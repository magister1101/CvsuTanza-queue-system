import{Q as x}from"./QImg-CaYrKlGY.js";import{Q as b,a as n}from"./QPage-DPsZlzTf.js";import{f as i,u as y,o as h,b as w,w as s,e as a,a as e,h as _,g as c,Q,N as m}from"./index-BMhglyKV.js";import{Q as f}from"./QInput-CefROznu.js";import{Q as k}from"./QForm-RWsXu0Um.js";import{Q as q}from"./QCard-Dna_0p2Q.js";import{a as V}from"./axios-upsvKRUO.js";import{_ as I}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-timeout-FgPeAw9M.js";import"./use-key-composition-BODgx2F7.js";import"./use-dark-xojyzzLc.js";const N={class:"main-container",style:{background:`url('https://res.cloudinary.com/dqaw6ndtn/image/upload/v1737617278/assets/queing/q5xrh22iplhm2bndvvru.jpg')
            no-repeat center center`,"background-size":"cover",width:"100%",height:"100vh",border:"3px solid #606060"}},C={class:"sub-container"},P={class:"logo"},B={class:"q-mt-xl",style:{"background-color":"#ffffff",width:"130px",height:"50px","border-radius":"10px",display:"flex","justify-self":"center"}},L={__name:"adminLogin",setup(U){const d=i(!1),g=y(),p=i(""),u=i(""),r=i(!0);async function v(){d.value=!0;try{const l=await V.post("https://pre-registration-and-queueing-system-be.vercel.app/users/login",{username:p.value,password:u.value},{headers:{"Content-Type":"application/json"}});if(l.status===200){const t=l.data.token;localStorage.setItem("authToken","Bearer "+t),m.create({type:"positive",message:"Login successful!"}),await new Promise(o=>setTimeout(o,500)),g.replace("/new/dashboardPage")}else m.create({type:"negative",message:"Unexpected response from server."})}catch(l){console.error(l),m.create({message:"Wrong username or password.",type:"negative"})}finally{d.value=!1}}return(l,t)=>(h(),w(b,null,{default:s(()=>[a("div",null,[a("div",N,[e(q,{class:"login-container q-pb-xl"},{default:s(()=>[a("div",C,[e(n,{class:"q-pb-xl",style:{"padding-top":"70px",width:"100%","border-radius":"14px 0px 0px 14px","background-color":"#fdffdf",display:"flex","align-items":"center","flex-direction":"column","text-align":"center"}},{default:s(()=>[a("div",P,[e(x,{src:"https://res.cloudinary.com/dqaw6ndtn/image/upload/v1737617283/assets/queing/ja3s742lgdzsca55fu1w.png"})]),t[3]||(t[3]=a("div",{class:"text-h3 text-weight-bold q-mt-xl",style:{color:"#393939"}}," TANZA CAMPUS ",-1))]),_:1}),e(n,{style:{"padding-top":"70px",width:"100%","background-color":"#30562c","border-radius":"0px 14px 14px 0px",color:"#f6f8ed"}},{default:s(()=>[e(n,{class:"text-h4 text-center"},{default:s(()=>t[4]||(t[4]=[a("div",null,"Welcome, Admin!",-1),a("div",null,"LOG IN",-1)])),_:1}),e(n,{class:"q-mt-sm"},{default:s(()=>[e(k,{onSubmit:_(v,["prevent"])},{default:s(()=>[a("div",null,[e(f,{type:"text",modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=o=>p.value=o),label:"Username/Email","input-style":"color: #f6f8ed","label-color":"white"},{prepend:s(()=>[e(c,{name:"person",size:"34px"})]),_:1},8,["modelValue"])]),a("div",null,[e(f,{type:r.value?"password":"text",modelValue:u.value,"onUpdate:modelValue":t[2]||(t[2]=o=>u.value=o),label:"Password","input-style":"color: #f6f8ed","label-color":"white"},{prepend:s(()=>[e(c,{name:"lock",size:"34px"})]),append:s(()=>[e(c,{name:r.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:t[1]||(t[1]=o=>r.value=!r.value)},null,8,["name"])]),_:1},8,["type","modelValue"])]),a("div",B,[e(Q,{type:"submit",label:"LOGIN",loading:d.value,class:"text-subtitle1 text-weight-medium",flat:"",style:{width:"100%",height:"100%",color:"#4f5944"}},null,8,["loading"])])]),_:1})]),_:1})]),_:1})])]),_:1})])])]),_:1}))}},F=I(L,[["__scopeId","data-v-94f539b6"]]);export{F as default};
