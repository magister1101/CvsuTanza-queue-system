import{Q as O,a as u}from"./QPage-DPsZlzTf.js";import{Q as d}from"./QInput-CefROznu.js";import{Q as U}from"./QSelect-BXUjDScj.js";import{u as T,f as s,k as $,o as z,b as A,w as o,e as a,a as t,h as M,i,g as P,Q as j,N as p}from"./index-BMhglyKV.js";import{Q as E}from"./QForm-RWsXu0Um.js";import{a as Q}from"./axios-upsvKRUO.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-key-composition-BODgx2F7.js";import"./use-dark-xojyzzLc.js";import"./format-DKTbQgkX.js";import"./use-prevent-scroll-NfEf-uE_.js";import"./scroll-BbPNP22x.js";import"./QDialog-CdgP6t9L.js";import"./use-timeout-FgPeAw9M.js";const D={style:{background:`url('https://res.cloudinary.com/dqaw6ndtn/image/upload/v1737617278/assets/queing/q5xrh22iplhm2bndvvru.jpg')
            no-repeat center center`,"background-size":"cover",width:"100%",height:"100vh",border:"3px solid #606060"}},G={class:"main-container"},L={style:{width:"100%"}},Y={style:{width:"100%"}},H={style:{width:"100%"}},J={style:{width:"100%"}},K={style:{width:"100%"}},X={style:{width:"100%"}},Z={style:{width:"100%"}},ee={style:{width:"100%"}},te={style:{width:"100%"}},le={style:{width:"100%"}},oe={style:{width:"100%"}},se={style:{width:"100%"}},ae={style:{width:"100%"}},ue={style:{width:"100%"}},ie={__name:"studentRegister",setup(ne){const C=T(),r=s(!1),v=s(""),S=s(""),f=s(""),y=s(""),m=s(""),g=s(!0),w=s(!0),V=s(""),x=s(""),b=s(""),c=s(""),h=s(""),R=s({options:["First","Second","Third","Fourth"]}),N=s(""),k=s({}),q=s({options:["A","B","C","D","E","F","G"]}),I=s(["Regular","Irregular"]),_=s("Regular");async function B(){r.value=!0;try{if(!v.value||!f.value||!y.value||!m.value||!V.value||!c.value||!x.value||!N.value||!h.value||!b.value||!_.value){p.create({type:"negative",message:"Please fill in all required fields"}),r.value=!1;return}if(m.value!==V.value){p.create({type:"negative",message:"Passwords do not match"}),r.value=!1;return}if(m.value.length<6){p.create({type:"negative",message:"Password must be at least 6 characters long"}),r.value=!1;return}const n=_.value==="Regular",e=localStorage.getItem("authToken"),l=await Q.post("https://pre-registration-and-queueing-system-be.vercel.app/users/create",{firstName:v.value,middleName:S.value,lastName:f.value,studentNumber:c.value,role:"student",username:y.value,password:m.value,email:x.value,course:N.value,year:h.value,section:b.value,isRegular:n},{headers:{"Content-Type":"application/json",authorization:e}});console.log(l.data.saveUser._id,"wes"),p.create({type:"positive",message:"Register Successfully"}),C.replace("/registerCourse/"+l.data.saveUser._id)}catch(n){console.error(n),p.create({type:"negative",message:"Something Went Wrong"})}finally{r.value=!1}}async function F(){try{const n=localStorage.getItem("authToken"),e=await Q.get("https://pre-registration-and-queueing-system-be.vercel.app/courses/getProgram?isArchived=false",{headers:{Authorization:n}});k.value={option:e.data.map(l=>l.name)}}catch(n){console.error(n)}}return $(()=>{F()}),(n,e)=>(z(),A(O,null,{default:o(()=>[a("div",null,[a("div",D,[t(u,null,{default:o(()=>[a("div",G,[t(u,{class:"text-center q-pt-xl"},{default:o(()=>e[14]||(e[14]=[a("div",{class:"text-h4 text-weight-bold text-uppercase"},"Student Register",-1)])),_:1}),t(u,{class:"container-courseInfo"},{default:o(()=>[t(E,{onSubmit:M(B,["prevent"])},{default:o(()=>[t(u,{class:"form-container"},{default:o(()=>[a("div",L,[t(u,{style:{width:"100%"}},{default:o(()=>[e[15]||(e[15]=i(" First Name: ")),a("div",Y,[t(d,{type:"text",outlined:"",modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=l=>v.value=l)},null,8,["modelValue"])])]),_:1}),t(u,{style:{width:"100%"}},{default:o(()=>[e[16]||(e[16]=i(" Middle Name: ")),a("div",H,[t(d,{type:"text",outlined:"",modelValue:S.value,"onUpdate:modelValue":e[1]||(e[1]=l=>S.value=l),label:"Optional"},null,8,["modelValue"])])]),_:1}),t(u,{style:{width:"100%"}},{default:o(()=>[e[17]||(e[17]=i(" Last Name: ")),a("div",J,[t(d,{type:"text",outlined:"",modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=l=>f.value=l)},null,8,["modelValue"])])]),_:1}),t(u,{style:{width:"100%"}},{default:o(()=>[e[18]||(e[18]=i(" Section: ")),a("div",K,[t(U,{type:"text",outlined:"",modelValue:b.value,"onUpdate:modelValue":e[3]||(e[3]=l=>b.value=l),options:q.value.options},null,8,["modelValue","options"])])]),_:1}),t(u,{style:{width:"100%"}},{default:o(()=>[e[19]||(e[19]=i(" Program: ")),a("div",X,[t(U,{type:"text",outlined:"",modelValue:N.value,"onUpdate:modelValue":e[4]||(e[4]=l=>N.value=l),options:k.value.option},null,8,["modelValue","options"])])]),_:1}),t(u,{style:{width:"100%"}},{default:o(()=>[e[20]||(e[20]=i(" Year: ")),a("div",Z,[t(U,{type:"text",outlined:"",modelValue:h.value,"onUpdate:modelValue":e[5]||(e[5]=l=>h.value=l),options:R.value.options},null,8,["modelValue","options"])])]),_:1})]),a("div",ee,[t(u,{style:{width:"100%"}},{default:o(()=>[e[21]||(e[21]=i(" Student Number: ")),a("div",te,[t(d,{type:"text",outlined:"",modelValue:c.value,"onUpdate:modelValue":e[6]||(e[6]=l=>c.value=l)},null,8,["modelValue"])])]),_:1}),t(u,{style:{width:"100%"}},{default:o(()=>[e[22]||(e[22]=i(" User Name: ")),a("div",le,[t(d,{type:"text",outlined:"",modelValue:y.value,"onUpdate:modelValue":e[7]||(e[7]=l=>y.value=l)},null,8,["modelValue"])])]),_:1}),t(u,{style:{width:"100%"}},{default:o(()=>[e[23]||(e[23]=i(" Password: ")),a("div",oe,[t(d,{type:g.value?"password":"text",outlined:"",modelValue:m.value,"onUpdate:modelValue":e[9]||(e[9]=l=>m.value=l)},{append:o(()=>[t(P,{name:g.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[8]||(e[8]=l=>g.value=!g.value)},null,8,["name"])]),_:1},8,["type","modelValue"])])]),_:1}),t(u,{style:{width:"100%"}},{default:o(()=>[e[24]||(e[24]=i(" Confirm Password: ")),a("div",se,[t(d,{type:w.value?"password":"text",outlined:"",modelValue:V.value,"onUpdate:modelValue":e[11]||(e[11]=l=>V.value=l)},{append:o(()=>[t(P,{name:w.value?"visibility_off":"visibility",class:"cursor-pointer",onClick:e[10]||(e[10]=l=>w.value=!w.value)},null,8,["name"])]),_:1},8,["type","modelValue"])])]),_:1}),t(u,{style:{width:"100%"}},{default:o(()=>[e[25]||(e[25]=i(" Email: ")),a("div",ae,[t(d,{type:"email",outlined:"",modelValue:x.value,"onUpdate:modelValue":e[12]||(e[12]=l=>x.value=l)},null,8,["modelValue"])])]),_:1}),t(u,{style:{width:"100%"}},{default:o(()=>[e[26]||(e[26]=i(" Status: ")),a("div",ue,[t(U,{type:"text",outlined:"",modelValue:_.value,"onUpdate:modelValue":e[13]||(e[13]=l=>_.value=l),options:I.value},null,8,["modelValue","options"])])]),_:1})])]),_:1}),t(u,{class:"flex flex-center"},{default:o(()=>[t(j,{type:"submit",label:"Signup",loading:r.value,"no-caps":"",flat:"",style:{"background-color":"#30572d",color:"#ffffff"}},null,8,["loading"])]),_:1})]),_:1})]),_:1})])]),_:1})])])]),_:1}))}},Ne=W(ie,[["__scopeId","data-v-7fcf31ef"]]);export{Ne as default};
