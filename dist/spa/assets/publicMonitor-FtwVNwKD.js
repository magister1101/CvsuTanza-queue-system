import{Q as b}from"./QImg-CaYrKlGY.js";import{Q as C,a as m}from"./QPage-DPsZlzTf.js";import{f as a,u as I,k as $,x as U,o as k,b as D,w as c,e,a as n,t as r}from"./index-BMhglyKV.js";import{a as v}from"./axios-upsvKRUO.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-timeout-FgPeAw9M.js";const R={class:"main-container"},x={class:"header-container"},O={class:"banner-container"},B={class:"datetime-container"},z={class:"datetime-wrapper"},V={class:"time-display"},j={class:"date-display"},F={class:"queue-item"},H={class:"queue-number"},J={class:"queue-item"},P={class:"queue-number"},Y={class:"queue-item"},W={class:"queue-number"},Z={__name:"publicMonitor",setup(G){const f=a({}),y=I(),i=a(""),l=a(""),d=a(""),p=a(""),g=a("");async function q(){y.replace("/")}async function _(){const s=localStorage.getItem("authToken");try{const t=await v.get("https://pre-registration-and-queueing-system-be.vercel.app/queues/current/registrar",{headers:{Authorization:s}});t.data.currentQueue.length>0?i.value=t.data.currentQueue[0].queueNumber:i.value="None";const o=await v.get("https://pre-registration-and-queueing-system-be.vercel.app/queues/current/osas",{headers:{Authorization:s}});o.data.currentQueue.length>0?l.value=o.data.currentQueue[0].queueNumber:l.value="None";const u=await v.get("https://pre-registration-and-queueing-system-be.vercel.app/queues/current/cashier",{headers:{Authorization:s}});u.data.currentQueue.length>0?d.value=u.data.currentQueue[0].queueNumber:d.value="None",console.log(f.value)}catch(t){console.error(t)}}function h(){const s=new Date,t=s.getHours(),o=s.getMinutes(),u=t>=12?"PM":"AM",N=t%12||12,Q=o.toString().padStart(2,"0"),S=["SUN","MON","TUES","WED","THURS","FRI","SAT"][s.getDay()];p.value=`${N}:${Q} ${u} | ${S}`;const T=["January","February","March","April","May","June","July","August","September","October","November","December"],w=s.getDate().toString().padStart(2,"0"),A=T[s.getMonth()],M=s.getFullYear();g.value=`${w} ${A} ${M}`}return $(()=>{_(),h(),setInterval(h,1e3);const s=setInterval(_,1e4);U(()=>{clearInterval(s)})}),(s,t)=>(k(),D(C,{class:"monitor-page"},{default:c(()=>[e("div",null,[e("div",R,[n(m,{class:"left-section"},{default:c(()=>[e("div",x,[e("div",{clickable:"",style:{cursor:"pointer"},onClick:q},[n(b,{src:"https://res.cloudinary.com/dqaw6ndtn/image/upload/v1737617283/assets/queing/ja3s742lgdzsca55fu1w.png",class:"logo-img"})]),t[0]||(t[0]=e("div",{class:"title-container"},[e("div",{class:"university-title"},"CAVITE STATE UNIVERSITY"),e("div",{class:"campus-title-wrapper"},[e("div",{class:"campus-title"},"TANZA CAMPUS")])],-1))]),e("div",O,[n(b,{class:"banner-img",src:"https://res.cloudinary.com/dqaw6ndtn/image/upload/v1737617288/assets/queing/rdv7tsdjfeavayc4ca5p.jpg"})])]),_:1}),n(m,{class:"right-section"},{default:c(()=>[e("div",B,[e("div",z,[e("div",V,r(p.value),1),e("div",null,[e("div",j,r(g.value),1)])])]),n(m,{class:"queue-section"},{default:c(()=>[e("div",F,[e("div",H,r(i.value),1),t[1]||(t[1]=e("div",{class:"counter-container"},[e("div",{class:"counter-label"},"COUNTER"),e("div",{class:"counter-number"},"01")],-1))]),e("div",J,[e("div",P,r(l.value),1),t[2]||(t[2]=e("div",{class:"counter-container"},[e("div",{class:"counter-label"},"COUNTER"),e("div",{class:"counter-number"},"02")],-1))]),e("div",Y,[e("div",W,r(d.value),1),t[3]||(t[3]=e("div",{class:"counter-container"},[e("div",{class:"counter-label"},"COUNTER"),e("div",{class:"counter-number"},"03")],-1))])]),_:1})]),_:1})])])]),_:1}))}},ne=E(Z,[["__scopeId","data-v-597073cd"]]);export{ne as default};
